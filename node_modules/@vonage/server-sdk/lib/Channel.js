"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _index = _interopRequireDefault(require("./index"));

var _fs = _interopRequireDefault(require("fs"));

var _querystring = _interopRequireDefault(require("querystring"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

class Channel {
  static get PATH() {
    return "/v0.1/messages";
  }

  constructor(credentials, options) {
    this.creds = credentials;
    this.options = options; // Used to facilitate testing of the call to the underlying object

    this._nexmo = this.options.nexmoOverride || _index.default;

    this._nexmo.initialize(this.creds.apiKey, this.creds.apiSecret, this.options);
  }

  send(to, from, message, callback) {
    var params = {
      to: to,
      from: from,
      message: message
    };
    return this.options.api.post(Channel.PATH, params, callback, true, {
      "Content-Type": "application/json"
    });
  }

}

var _default = Channel;
exports.default = _default;
module.exports = exports.default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9DaGFubmVsLmpzIl0sIm5hbWVzIjpbIkNoYW5uZWwiLCJQQVRIIiwiY29uc3RydWN0b3IiLCJjcmVkZW50aWFscyIsIm9wdGlvbnMiLCJjcmVkcyIsIl9uZXhtbyIsIm5leG1vT3ZlcnJpZGUiLCJuZXhtbyIsImluaXRpYWxpemUiLCJhcGlLZXkiLCJhcGlTZWNyZXQiLCJzZW5kIiwidG8iLCJmcm9tIiwibWVzc2FnZSIsImNhbGxiYWNrIiwicGFyYW1zIiwiYXBpIiwicG9zdCJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7QUFFQTs7QUFDQTs7QUFDQTs7OztBQUVBLE1BQU1BLE9BQU4sQ0FBYztBQUNaLGFBQVdDLElBQVgsR0FBa0I7QUFDaEIsV0FBTyxnQkFBUDtBQUNEOztBQUVEQyxFQUFBQSxXQUFXLENBQUNDLFdBQUQsRUFBY0MsT0FBZCxFQUF1QjtBQUNoQyxTQUFLQyxLQUFMLEdBQWFGLFdBQWI7QUFDQSxTQUFLQyxPQUFMLEdBQWVBLE9BQWYsQ0FGZ0MsQ0FJaEM7O0FBQ0EsU0FBS0UsTUFBTCxHQUFjLEtBQUtGLE9BQUwsQ0FBYUcsYUFBYixJQUE4QkMsY0FBNUM7O0FBRUEsU0FBS0YsTUFBTCxDQUFZRyxVQUFaLENBQ0UsS0FBS0osS0FBTCxDQUFXSyxNQURiLEVBRUUsS0FBS0wsS0FBTCxDQUFXTSxTQUZiLEVBR0UsS0FBS1AsT0FIUDtBQUtEOztBQUVEUSxFQUFBQSxJQUFJLENBQUNDLEVBQUQsRUFBS0MsSUFBTCxFQUFXQyxPQUFYLEVBQW9CQyxRQUFwQixFQUE4QjtBQUNoQyxRQUFNQyxNQUFNLEdBQUc7QUFDYkosTUFBQUEsRUFBRSxFQUFFQSxFQURTO0FBRWJDLE1BQUFBLElBQUksRUFBRUEsSUFGTztBQUdiQyxNQUFBQSxPQUFPLEVBQUVBO0FBSEksS0FBZjtBQU1BLFdBQU8sS0FBS1gsT0FBTCxDQUFhYyxHQUFiLENBQWlCQyxJQUFqQixDQUFzQm5CLE9BQU8sQ0FBQ0MsSUFBOUIsRUFBb0NnQixNQUFwQyxFQUE0Q0QsUUFBNUMsRUFBc0QsSUFBdEQsRUFBNEQ7QUFDakUsc0JBQWdCO0FBRGlELEtBQTVELENBQVA7QUFHRDs7QUE3Qlc7O2VBZ0NDaEIsTyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5pbXBvcnQgbmV4bW8gZnJvbSBcIi4vaW5kZXhcIjtcbmltcG9ydCBmcyBmcm9tIFwiZnNcIjtcbmltcG9ydCBxdWVyeXN0cmluZyBmcm9tIFwicXVlcnlzdHJpbmdcIjtcblxuY2xhc3MgQ2hhbm5lbCB7XG4gIHN0YXRpYyBnZXQgUEFUSCgpIHtcbiAgICByZXR1cm4gXCIvdjAuMS9tZXNzYWdlc1wiO1xuICB9XG5cbiAgY29uc3RydWN0b3IoY3JlZGVudGlhbHMsIG9wdGlvbnMpIHtcbiAgICB0aGlzLmNyZWRzID0gY3JlZGVudGlhbHM7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcblxuICAgIC8vIFVzZWQgdG8gZmFjaWxpdGF0ZSB0ZXN0aW5nIG9mIHRoZSBjYWxsIHRvIHRoZSB1bmRlcmx5aW5nIG9iamVjdFxuICAgIHRoaXMuX25leG1vID0gdGhpcy5vcHRpb25zLm5leG1vT3ZlcnJpZGUgfHwgbmV4bW87XG5cbiAgICB0aGlzLl9uZXhtby5pbml0aWFsaXplKFxuICAgICAgdGhpcy5jcmVkcy5hcGlLZXksXG4gICAgICB0aGlzLmNyZWRzLmFwaVNlY3JldCxcbiAgICAgIHRoaXMub3B0aW9uc1xuICAgICk7XG4gIH1cblxuICBzZW5kKHRvLCBmcm9tLCBtZXNzYWdlLCBjYWxsYmFjaykge1xuICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgIHRvOiB0byxcbiAgICAgIGZyb206IGZyb20sXG4gICAgICBtZXNzYWdlOiBtZXNzYWdlXG4gICAgfTtcblxuICAgIHJldHVybiB0aGlzLm9wdGlvbnMuYXBpLnBvc3QoQ2hhbm5lbC5QQVRILCBwYXJhbXMsIGNhbGxiYWNrLCB0cnVlLCB7XG4gICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENoYW5uZWw7XG4iXX0=